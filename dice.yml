---
  version: 2
  services:
    apm-demo-dubbo:
      health_check:
        exec:
          cmd: "echo 1"
      ports:
      - 20880
      deployments:
        replicas: 1
      resources:
        cpu: 1
        mem: 512
        disk: 0
    apm-demo-api: 
      health_check: 
        exec: 
          cmd: "echo 1"
      ports: 
        - 8095
      deployments: 
        replicas: 1
      resources: 
        cpu: 1
        mem: 512
        disk: 0
      expose: 
        - 8095
      depends_on:
        - apm-demo-dubbo
  addons:
    terminus-roost:
      plan: "terminus-roost:professional"
    mysql: 
      plan: "mysql:basic"
      options: 
        version: "5.7.23"
    redis: 
      plan: "redis:basic"
      options: 
        version: "3.2.12"